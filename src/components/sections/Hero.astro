---
import Button from '../ui/Button';
import RegistrationWrapper from './RegistrationWrapper';
---

<section class="relative min-h-screen flex items-center justify-center overflow-hidden halftone-effect">
  <!-- Indicador de scroll (flecha animada) -->
  <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 fade-in-up" style="animation-delay: 1s;">
    <a 
      href="#about" 
      class="flex flex-col items-center gap-2 text-black hover:text-orange transition-colors group"
      aria-label="Scroll hacia abajo"
    >
      <span class="font-body text-xs uppercase tracking-wider opacity-80">Scroll</span>
      <svg 
        class="w-6 h-6 animate-bounce opacity-80 group-hover:opacity-100" 
        fill="none" 
        stroke="currentColor" 
        viewBox="0 0 24 24"
        aria-hidden="true"
      >
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
      </svg>
    </a>
  </div>

  <!-- Ilustraciones decorativas - Reorganizadas para mejor visualización -->
  
  <!-- Faro - Elemento destacado principal (visible en mobile también) -->
  <div class="absolute bottom-0 right-0 md:right-2 lg:right-6 xl:right-10 h-full flex items-end z-[2] pointer-events-none">
    <img 
      src="/faro-xl.png" 
      alt="El Faro de San Mateo" 
      class="opacity-60 md:opacity-75 lg:opacity-85"
      aria-hidden="true"
      loading="eager"
      style="height: 25%; width: auto; max-width: 400px; object-fit: contain; object-position: bottom; filter: drop-shadow(8px 8px 0px rgba(0,0,0,0.15));"
      onerror="this.onerror=null; this.src='/faro.png';"
      id="hero-lighthouse"
    />
  </div>
  <style>
    @media (min-width: 768px) {
      #hero-lighthouse {
        height: 85% !important;
        max-width: 800px !important;
      }
    }
  </style>
  
  <!-- Grupo Top Left: Ola grande con pájaros -->
  <div class="absolute top-32 sm:top-36 md:top-40 lg:top-44 left-2 md:left-6 lg:left-10 z-[1] pointer-events-none">
    <div class="relative">
      <!-- Ola grande -->
      <img 
        src="/wage-xl.png" 
        alt="" 
        class="w-28 sm:w-36 md:w-48 lg:w-56 sprite-float opacity-40 sm:opacity-50 md:opacity-55 lg:opacity-65"
        aria-hidden="true"
        loading="lazy"
        onerror="this.onerror=null; this.src='/big-wave.png';"
      />
    </div>
  </div>
  
  <!-- Grupo Bottom Left: Tortuga marina -->
  <div class="absolute bottom-16 md:bottom-16 lg:bottom-20 left-4 md:left-8 lg:left-12 z-[1] pointer-events-none">
    <img 
      src="/turtule.png" 
      alt="" 
      class="sprite-float-delayed opacity-40 sm:opacity-50 md:opacity-55 lg:opacity-65"
      style="width: 88px; height: auto;"
      aria-hidden="true"
      loading="lazy"
      id="hero-turtle"
    />
    <style>
      @media (min-width: 640px) {
        #hero-turtle {
          width: 105.6px !important;
        }
      }
      @media (min-width: 768px) {
        #hero-turtle {
          width: 140.8px !important;
        }
      }
      @media (min-width: 1024px) {
        #hero-turtle {
          width: 158.4px !important;
        }
      }
    </style>
  </div>
  
  
 
  
  <!-- Ola pequeña decorativa - Centro izquierda -->
  <div class="absolute top-[45%] sm:top-[40%] md:top-[35%] left-4 md:left-10 lg:left-14 z-[1] pointer-events-none">
    <img 
      src="/wave.png" 
      alt="" 
      class="sprite-float-delayed opacity-35 sm:opacity-40 md:opacity-45 lg:opacity-55"
      style="width: 70.4px; height: auto;"
      aria-hidden="true"
      loading="lazy"
      id="hero-small-wave"
    />
    <style>
      @media (min-width: 640px) {
        #hero-small-wave {
          width: 88px !important;
        }
      }
      @media (min-width: 768px) {
        #hero-small-wave {
          width: 105.6px !important;
        }
      }
      @media (min-width: 1024px) {
        #hero-small-wave {
          width: 123.2px !important;
        }
      }
    </style>
  </div>

   <!-- Faro decorativo - único elemento preservado -->
   <div class="absolute top-1/2 right-4 md:right-8 lg:right-12 transform -translate-y-1/2 hidden md:block opacity-50 md:opacity-60 z-0">
    <img 
      src="/faro-xl.png" 
      alt="" 
      class="w-32 md:w-40 lg:w-48 sprite-float-delayed"
      aria-hidden="true"
      loading="lazy"
    />
  </div>

  <!-- Contenido principal -->
  <div class="relative z-[10] text-center max-w-6xl px-4 sm:px-6 lg:px-8 py-12 sm:py-16 md:py-24 md:pr-[160px] lg:pr-[220px] xl:pr-[280px]">
    <!-- Logo -->
    <div class="mb-4 sm:mb-6 md:mb-8 fade-in-up">
      <img 
        src="/logo.png" 
        alt="San Mateo Longboard Festival" 
        class="w-40 sm:w-48 md:w-40 lg:w-48 mx-auto drop-shadow-[4px_4px_0px_rgba(255,255,255,0.5)]"
        loading="eager"
      />
    </div>

    <!-- Título principal -->
    <h1 class="font-display text-5xl sm:text-6xl md:text-6xl lg:text-7xl xl:text-8xl mb-3 sm:mb-4 md:mb-6 text-black leading-[0.95] tracking-tight fade-in-up px-2" style="animation-delay: 0.2s;">
      SAN MATEO<br />
      <span class="text-black drop-shadow-[3px_3px_0px_rgba(255,255,255,0.8)]">
        LONGBOARD FESTIVAL
      </span>
    </h1>

    <!-- Edición -->
    <p class="font-heading text-lg sm:text-xl md:text-2xl lg:text-3xl mb-3 md:mb-4 text-black font-bold fade-in-up tracking-wide" style="animation-delay: 0.3s;">
      III EDICIÓN
    </p>
    
    <!-- Fecha y ubicación -->
    <p class="font-heading text-base sm:text-lg md:text-xl lg:text-2xl mb-6 md:mb-8 text-black font-bold fade-in-up tracking-wide" style="animation-delay: 0.4s;">
      Diciembre 2025 • El Faro, San Mateo, Manabí, Ecuador
    </p>

    <!-- Descripción -->
    <p class="font-body text-sm sm:text-base md:text-lg lg:text-xl mb-8 md:mb-10 text-black max-w-3xl mx-auto fade-in-up font-medium leading-relaxed" style="animation-delay: 0.5s;">
      Un día de competencia sin igual, música, cultura y comunidad 
      en el corazón de la costa ecuatoriana
    </p>

    <!-- CTAs -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center items-stretch sm:items-center mb-8 md:mb-10 fade-in-up" style="animation-delay: 0.6s;">
      <button
        id="hero-register-btn"
        class="bg-yellow text-black px-6 sm:px-8 py-4 rounded-md font-heading font-bold uppercase tracking-wide border-[3px] border-black shadow-[4px_4px_0px_0px_rgba(26,26,26,1)] hover:shadow-[6px_6px_0px_0px_rgba(26,26,26,1)] hover:-translate-x-[2px] hover:-translate-y-[2px] active:translate-x-[4px] active:translate-y-[4px] active:shadow-[2px_2px_0px_0px_rgba(26,26,26,1)] transition-all min-h-[56px] sm:min-h-[64px] text-base sm:text-lg focus-visible:outline-4 focus-visible:outline-orange focus-visible:outline-offset-4"
      >
        INSCRÍBETE AHORA - $10
      </button>
      <a 
        href="#categories"
        class="w-full sm:w-auto"
      >
        <Button 
          variant="outline" 
          size="large"
          client:load
          className="w-full sm:w-auto"
        >
          VER CATEGORÍAS
        </Button>
      </a>
    </div>

    <!-- Micro-copy / Social proof -->
    <div class="flex flex-wrap justify-center gap-4 sm:gap-6 text-xs sm:text-sm md:text-base fade-in-up" style="animation-delay: 0.7s;">
      <div class="flex items-center gap-2 bg-cream/80 px-4 py-2 rounded-md border-2 border-black/20">
        <span class="text-green-600 font-bold">✓</span>
        <span class="font-body text-black font-medium">Inscripciones abiertas</span>
      </div>
      <div class="flex items-center gap-2 bg-cream/80 px-4 py-2 rounded-md border-2 border-black/20">
        <span class="text-green-600 font-bold">✓</span>
        <span class="font-body text-black font-medium">Premios en efectivo</span>
      </div>
      <div class="flex items-center gap-2 bg-cream/80 px-4 py-2 rounded-md border-2 border-black/20">
        <span class="text-green-600 font-bold">✓</span>
        <span class="font-body text-black font-medium">Riders internacionales</span>
      </div>
    </div>
  </div>
  
  <!-- Modal de Registro -->
  <RegistrationWrapper client:load />
</section>

<script>
  // Manejar apertura del modal desde botones
  if (typeof window !== 'undefined') {
    // Botón del hero
    const heroBtn = document.getElementById('hero-register-btn');
    heroBtn?.addEventListener('click', () => {
      const event = new CustomEvent('open-registration-modal');
      window.dispatchEvent(event);
    });
  }
</script>

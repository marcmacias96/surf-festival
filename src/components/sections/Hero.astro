---
import Button from '../ui/Button';
import RegistrationWrapper from './RegistrationWrapper';
---

<section class="relative min-h-screen flex items-center justify-center overflow-hidden halftone-effect">
  <!-- Indicador de scroll (flecha animada) -->
  <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 fade-in-up" style="animation-delay: 1s;">
    <a 
      href="#about" 
      class="flex flex-col items-center gap-2 text-black hover:text-orange transition-colors group"
      aria-label="Scroll hacia abajo"
    >
      <span class="font-body text-xs uppercase tracking-wider opacity-80">Scroll</span>
      <svg 
        class="w-6 h-6 animate-bounce opacity-80 group-hover:opacity-100" 
        fill="none" 
        stroke="currentColor" 
        viewBox="0 0 24 24"
        aria-hidden="true"
      >
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
      </svg>
    </a>
  </div>

  <!-- Ilustraciones decorativas - Reorganizadas para mejor visualización -->
  
  <!-- Faro - Elemento destacado principal (fondo, detrás del contenido) -->
  <div class="absolute top-1/2 right-0 md:right-2 lg:right-6 xl:right-10 -translate-y-1/2 hidden md:block z-[2] pointer-events-none">
    <img 
      src="/faro-xl.png" 
      alt="El Faro de San Mateo" 
      class="w-[280px] md:w-[340px] lg:w-[420px] xl:w-[500px] sprite-float-slow opacity-75 md:opacity-85"
      aria-hidden="true"
      loading="eager"
      style="max-height: 85vh; object-fit: contain; height: auto; filter: drop-shadow(8px 8px 0px rgba(0,0,0,0.15));"
      onerror="this.onerror=null; this.src='/faro.png';"
    />
  </div>
  
  <!-- Grupo Top Left: Ola grande con pájaros -->
  <div class="absolute top-20 md:top-24 lg:top-28 left-2 md:left-6 lg:left-10 hidden md:block z-[1] pointer-events-none">
    <div class="relative">
      <!-- Pájaros volando -->
      <div class="absolute -top-3 left-6 opacity-70 sprite-float" style="animation-duration: 2.5s;">
        <svg class="w-4 h-4 text-black" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 2L8 6h2v2l-4-4 4-4v2h2zm0 0l4 4h-2V4l4 4-4 4V8h-2z" transform="rotate(-20 12 12)"/>
        </svg>
      </div>
      <div class="absolute -top-1 left-10 opacity-60 sprite-float-delayed" style="animation-duration: 3s;">
        <svg class="w-3 h-3 text-black" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 2L8 6h2v2l-4-4 4-4v2h2zm0 0l4 4h-2V4l4 4-4 4V8h-2z" transform="rotate(-15 12 12)"/>
        </svg>
      </div>
      <div class="absolute -top-2 left-14 opacity-65 sprite-float" style="animation-duration: 2.8s;">
        <svg class="w-3.5 h-3.5 text-black" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 2L8 6h2v2l-4-4 4-4v2h2zm0 0l4 4h-2V4l4 4-4 4V8h-2z" transform="rotate(-25 12 12)"/>
        </svg>
      </div>
      <!-- Ola grande -->
      <img 
        src="/wage-xl.png" 
        alt="" 
        class="w-36 md:w-44 lg:w-52 sprite-float opacity-55 md:opacity-65"
        aria-hidden="true"
        loading="lazy"
        onerror="this.onerror=null; this.src='/big-wave.png';"
      />
    </div>
  </div>
  
  <!-- Grupo Bottom Left: Tortuga marina -->
  <div class="absolute bottom-12 md:bottom-16 lg:bottom-20 left-4 md:left-8 lg:left-12 hidden lg:block z-[1] pointer-events-none">
    <img 
      src="/turtule.png" 
      alt="" 
      class="w-28 md:w-32 lg:w-36 sprite-float-delayed opacity-55 md:opacity-65"
      aria-hidden="true"
      loading="lazy"
    />
  </div>
  
  
 
  
  <!-- Ola pequeña decorativa - Centro izquierda -->
  <div class="absolute top-[40%] left-6 md:left-10 lg:left-14 hidden xl:block z-[1] pointer-events-none">
    <img 
      src="/wave.png" 
      alt="" 
      class="w-20 md:w-24 lg:w-28 sprite-float-delayed opacity-45 md:opacity-55"
      aria-hidden="true"
      loading="lazy"
    />
  </div>

   <!-- Faro decorativo - único elemento preservado -->
   <div class="absolute top-1/2 right-4 md:right-8 lg:right-12 transform -translate-y-1/2 hidden md:block opacity-50 md:opacity-60 z-0">
    <img 
      src="/faro-xl.png" 
      alt="" 
      class="w-32 md:w-40 lg:w-48 sprite-float-delayed"
      aria-hidden="true"
      loading="lazy"
    />
  </div>

  <!-- Contenido principal -->
  <div class="relative z-[10] text-center max-w-6xl px-4 sm:px-6 lg:px-8 py-16 md:py-24 md:pr-[160px] lg:pr-[220px] xl:pr-[280px]">
    <!-- Logo -->
    <div class="mb-6 md:mb-8 fade-in-up">
      <img 
        src="/logo.png" 
        alt="San Mateo Longboard Festival" 
        class="w-28 sm:w-32 md:w-40 lg:w-48 mx-auto drop-shadow-[4px_4px_0px_rgba(255,255,255,0.5)]"
        loading="eager"
      />
    </div>

    <!-- Título principal -->
    <h1 class="font-display text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl mb-4 md:mb-6 text-black leading-[0.95] tracking-tight fade-in-up" style="animation-delay: 0.2s;">
      SAN MATEO<br />
      <span class="text-black drop-shadow-[3px_3px_0px_rgba(255,255,255,0.8)]">
        LONGBOARD FESTIVAL
      </span>
    </h1>

    <!-- Edición -->
    <p class="font-heading text-lg sm:text-xl md:text-2xl lg:text-3xl mb-3 md:mb-4 text-black font-bold fade-in-up tracking-wide" style="animation-delay: 0.3s;">
      III EDICIÓN
    </p>
    
    <!-- Fecha y ubicación -->
    <p class="font-heading text-base sm:text-lg md:text-xl lg:text-2xl mb-6 md:mb-8 text-black font-bold fade-in-up tracking-wide" style="animation-delay: 0.4s;">
      Diciembre 2025 • El Faro, San Mateo, Manabí, Ecuador
    </p>

    <!-- Descripción -->
    <p class="font-body text-sm sm:text-base md:text-lg lg:text-xl mb-8 md:mb-10 text-black max-w-3xl mx-auto fade-in-up font-medium leading-relaxed" style="animation-delay: 0.5s;">
      Un día de competencia sin igual, música, cultura y comunidad 
      en el corazón de la costa ecuatoriana
    </p>

    <!-- CTAs -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center items-stretch sm:items-center mb-8 md:mb-10 fade-in-up" style="animation-delay: 0.6s;">
      <button
        id="hero-register-btn"
        class="bg-yellow text-black px-6 sm:px-8 py-4 rounded-md font-heading font-bold uppercase tracking-wide border-[3px] border-black shadow-[4px_4px_0px_0px_rgba(26,26,26,1)] hover:shadow-[6px_6px_0px_0px_rgba(26,26,26,1)] hover:-translate-x-[2px] hover:-translate-y-[2px] active:translate-x-[4px] active:translate-y-[4px] active:shadow-[2px_2px_0px_0px_rgba(26,26,26,1)] transition-all min-h-[56px] sm:min-h-[64px] text-base sm:text-lg focus-visible:outline-4 focus-visible:outline-orange focus-visible:outline-offset-4"
      >
        INSCRÍBETE AHORA - $10
      </button>
      <a 
        href="#categories"
        class="w-full sm:w-auto"
      >
        <Button 
          variant="outline" 
          size="large"
          client:load
          className="w-full sm:w-auto"
        >
          VER CATEGORÍAS
        </Button>
      </a>
    </div>

    <!-- Micro-copy / Social proof -->
    <div class="flex flex-wrap justify-center gap-4 sm:gap-6 text-xs sm:text-sm md:text-base fade-in-up" style="animation-delay: 0.7s;">
      <div class="flex items-center gap-2 bg-cream/80 px-4 py-2 rounded-md border-2 border-black/20">
        <span class="text-green-600 font-bold">✓</span>
        <span class="font-body text-black font-medium">Inscripciones abiertas</span>
      </div>
      <div class="flex items-center gap-2 bg-cream/80 px-4 py-2 rounded-md border-2 border-black/20">
        <span class="text-green-600 font-bold">✓</span>
        <span class="font-body text-black font-medium">Premios en efectivo</span>
      </div>
      <div class="flex items-center gap-2 bg-cream/80 px-4 py-2 rounded-md border-2 border-black/20">
        <span class="text-green-600 font-bold">✓</span>
        <span class="font-body text-black font-medium">Riders internacionales</span>
      </div>
    </div>
  </div>
  
  <!-- Modal de Registro -->
  <RegistrationWrapper client:load />
</section>

<script>
  // Manejar apertura del modal desde botones
  if (typeof window !== 'undefined') {
    // Botón del hero
    const heroBtn = document.getElementById('hero-register-btn');
    heroBtn?.addEventListener('click', () => {
      const event = new CustomEvent('open-registration-modal');
      window.dispatchEvent(event);
    });
  }
</script>
